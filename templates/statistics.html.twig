{% extends 'base.html.twig' %}

{% block content %}
    <div class="grid">
        <div>
            <h2>Most read authors</h2>
            <ul>
                {% for author in authors %}
                    <li>{{ author.author }} : {{ author.countbooks }}</li>
                {% endfor %}
            </ul>
        </div>

        <div>
            <h2>Most given notes (%)</h2>
            <canvas id="notes" width="400" height="400"></canvas>
            <ul>
                {% for note, count in notes %}
                    <li>{{ note }} : {{ count }}</li>
                {% endfor %}
            </ul>
        </div>

        <div>
            <h2>Most read types (%)</h2>
            <canvas id="types" width="400" height="400"></canvas>
            <ul>
                {% for type, count in types %}
                    <li>{{ type }} : {{ count }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
<script type="text/javascript">
    const notes = {{ notes|json_encode|raw }};
    const types = {{ types|json_encode|raw }};
</script>
{% endblock %}

{% block javascript %}
{% include 'js/canvas-notes.js' %}
{% include 'js/canvas-types.js' %}
{% endblock %}
